<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Faraz Samie | Home Page</title>
    <link rel="icon" href="images/icon.png" type="image/png">
    <link rel="stylesheet" href="index.css"/>
</head>
<body>

    <div class="landing-page">
        <p>Faraz Samie</p> 
        <p>Professional Portfolio</p>

        <p class="intro-text">Hi, My Name Is Faraz. Welcome To My Portfolio</p>

    </div>


    <div class="top"></div>

    <div class="slider-content"> 
            <div class="prefix"></div>
        <div class="slide-name">
            <div class="names">
                <div><a>Academic Achievements</a></div>
                <div><a>Experiences </a></div>
                <div><a>Project Portfolio</a></div>
                <div><a>Research Publications</a></div>
                <div><a>Personal Profile</a></div>
            </div>
        </div>
        <div class="slide-link">
            <div class="link">
                <div><a href="academic-achievements.html" class="slide-button" id="btn-academic">Learn More</a></div>
                <div><a href="experience.html" class="slide-button" id="btn-experience">Learn More</a></div>
                <div><a href="projects.html" class="slide-button" id="btn-projects">Learn More</a></div>
                <div><a href="research.html" class="slide-button" id="btn-research"> Learn More</a></div>
                <div><a href="personal.html" class="slide-button" id="btn-personal">Learn More</a></div>
            </div>
        </div>        
    </div>
    
    <div class="slider">
        <div class="slide" id="slide-1"> </div>
        <div class="slide" id="slide-2"></div>
        <div class="slide" id="slide-3"></div>
        <div class="slide" id="slide-4"></div>
        <div class="slide" id="slide-5"></div>
    </div>

    <div id="restriction-sign">
        <p>Access Restricted:</p>
        <p>Screen Size Isn't Supported</p>
    </div>


    <div style="height:400vh"></div>

    
    
    <svg style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;">
        <circle class="trail" cx="0" cy="0" r="15" style="stroke: #2926245f; fill: #2926245f;"></circle>
    </svg>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/CustomEase.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>


    /* page loading */

    gsap.from(".slider-content", {
    delay: 3,
    duration: 3,
    clipPath: "inset(0 100% 0 0)",
    ease: "power4.inOut",
    stagger: {
        amount: 0.5,
    }
});

gsap.from("img", {
    delay: 1.5,
    duration: 2,
    scale: 2,
    ease: "power4.inOut",
    stagger: {
        amount: 0.25,
    },
});

gsap.to("header h1, header h2", {
    delay: 3,
    duration: 2,
    top: 0,
    ease: "power3.out"
});

// Animate the <p> to disappear to the right
gsap.to(".landing-page p", {
    delay: 3,  // Adjust the delay if needed
    duration: 3,  // Adjust the duration for the animation
    xPercent: 100,  // Move the text completely out of view to the right
    ease: "power4.inOut",
});

gsap.to(".landing-page p1", {
    delay: 3,  // Adjust the delay if needed
    duration: 3,  // Adjust the duration for the animation
    xPercent: 100,  // Move the text completely out of view to the right
    ease: "power4.inOut",
});


gsap.to(".landing-page .intro-text", {
  delay: 3,
  duration: 3,
  xPercent: 100,
  opacity: 0,
  ease: "power4.inOut",
  onComplete: () => {
    document.querySelector(".landing-page .intro-text").style.display = "none";
  }
});


    /* core slide logic */
    const slides = document.querySelectorAll(".slide");
    let currentSlideIndex = 0;
    let isAnimating = false;
    let currentTopValue = 0;
    const elements = [
        {selector: ".prefix", delay: 0},
        {selector: ".names", delay: 0.0000015},
        {selector: ".link", delay: 0.0000003},
    ];

    // Initialize the slide transforms and gsap set functions for all slides except the first
    slides.forEach((slide, idx) => {
        if (idx !== 0) {
            const img = slide.querySelector("img");
            gsap.set(img, {scale: 2, top: "4em"}); 
        }
    });

    // Function to show a specific slide
    function showSlide(index) {
        if (isAnimating || index < 0 || index >= slides.length) return;
        isAnimating = true;
        const slide = slides[index];
        const img = slide.querySelector("img");

        currentTopValue -= 30; // position text lands on

        // Move text elements
        elements.forEach((elem) => {
            gsap.to(document.querySelector(elem.selector), {
                y: `${currentTopValue}px`,
                duration: 1.75, // speed of text
                ease: "power4.inOut",
            });
        });

        
        // Transition the image scale and position
        gsap.to(img, {
            scale: 1,
            top: "0%",
            duration: 1,
            ease: "power3.inOut",
        });

        // Animate the slide reveal
        gsap.to(slide, {
            clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
            duration: 1,
            ease: "power4.inOut",
            onComplete: () => {
                isAnimating = false;
            },
        }, "<");
    }

    // Function to hide a specific slide
    function hideSlide(index) {
        if (isAnimating || index < 0 || index >= slides.length) return;
        isAnimating = true;
        const slide = slides[index];
        const img = slide.querySelector("img");

        currentTopValue += 30;

        // Move text elements
        elements.forEach((elem) => {
            gsap.to(document.querySelector(elem.selector), {
                y: `${currentTopValue}px`,
                duration: 1,
                ease: "power4.inOut",
            });
        });

        // Transition to hide image and slide
        gsap.to(img, {
            scale: 2,
            top: "4em",
            duration: 0.5,
            ease: "power3.inOut",
        });

        gsap.to(slide, {
            clipPath: "polygon(0 100%, 100% 100%, 100% 100%, 0 100%)",
            duration: 0.5,
            ease: "power4.inOut",
            onComplete: () => {
                isAnimating = false;
            },
        }, "<");
    }

    // Wheel event listener to navigate slides
    // Wheel event listener to navigate slides
window.addEventListener("wheel", (e) => {
    if (isAnimating) return;
    if (e.deltaY > 0 && currentSlideIndex < slides.length - 1) {
        showSlide(currentSlideIndex + 1);
        currentSlideIndex++;
    } else if (e.deltaY < 0 && currentSlideIndex > 0) {
        // Hide current slide, then show previous slide
        hideSlide(currentSlideIndex, () => {
            currentSlideIndex--;
            showSlide(currentSlideIndex, true); // Pass a flag indicating reverse direction
        });
    }
});

// Modified showSlide function to handle reverse animations
function showSlide(index, isReverse = false) {
    if (isAnimating || index < 0 || index >= slides.length) return;
    isAnimating = true;
    const slide = slides[index];
    const img = slide.querySelector("img");

    // Adjust text position only when moving forward
    if (!isReverse) {
        currentTopValue -= 30;
    }

    elements.forEach((elem) => {
        gsap.to(document.querySelector(elem.selector), {
            y: `${currentTopValue}px`,
            duration: 1.75,
            ease: "power4.inOut",
        });
    });

    // Transition the image scale and position
    gsap.to(img, {
        scale: 1,
        top: "0%",
        duration: 1,
        ease: "power3.inOut",
    });

    // Animate the slide reveal
    gsap.to(slide, {
        clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
        duration: 1,
        ease: "power4.inOut",
        onComplete: () => {
            isAnimating = false;
        },
    }, "<");
}

// Modified hideSlide function to accept callback
function hideSlide(index, onComplete) {
    if (isAnimating || index < 0 || index >= slides.length) return;
    isAnimating = true;
    const slide = slides[index];
    const img = slide.querySelector("img");

    currentTopValue += 30;

    elements.forEach((elem) => {
        gsap.to(document.querySelector(elem.selector), {
            y: `${currentTopValue}px`,
            duration: 1,
            ease: "power4.inOut",
        });
    });

    gsap.to(img, {
        scale: 2,
        top: "4em",
        duration: 0.5,
        ease: "power3.inOut",
    });

    gsap.to(slide, {
        clipPath: "polygon(0 100%, 100% 100%, 100% 100%, 0 100%)",
        duration: 0.5,
        ease: "power4.inOut",
        onComplete: () => {
            isAnimating = false;
            if (onComplete) onComplete();
        },
    }, "<");
}

    // Mousetrail
    document.addEventListener("DOMContentLoaded", function() {
            const trail = document.querySelector(".trail");
            const smoothPointer = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
            const pointerSpeed = 0.4;

            setTimeout(() => {
                window.addEventListener("mousemove", (event) => {
                    smoothPointer.x += (event.clientX - smoothPointer.x) * pointerSpeed;
                    smoothPointer.y += (event.clientY - smoothPointer.y) * pointerSpeed;
                });

                function updateTrail() {
                    trail.setAttribute("cx", smoothPointer.x);
                    trail.setAttribute("cy", smoothPointer.y);
                    requestAnimationFrame(updateTrail);
                }
                updateTrail();
            }, 1);
    });


    window.addEventListener("load", function() {
    const trail = document.querySelector(".trail");

    // Make the mouse trail visible once the page is fully loaded
    trail.style.visibility = "visible";

    const smoothPointer = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
    const pointerSpeed = 0.4;

    window.addEventListener("mousemove", (event) => {
        smoothPointer.x += (event.clientX - smoothPointer.x) * pointerSpeed;
        smoothPointer.y += (event.clientY - smoothPointer.y) * pointerSpeed;
    });

    function updateTrail() {
        trail.setAttribute("cx", smoothPointer.x);
        trail.setAttribute("cy", smoothPointer.y);
        requestAnimationFrame(updateTrail);
    }
    updateTrail();

    function checkScreenSize() {
            const restrictionSign = document.getElementById('restriction-sign');
            if (window.innerWidth < 1000 || window.innerWidth > 1600) {
                restrictionSign.style.display = 'flex';
            } else {
                restrictionSign.style.display = 'none';
            }
        }
        
        window.addEventListener('resize', checkScreenSize);
        window.addEventListener('load', checkScreenSize);
});

        if (window.innerWidth < 1000 || window.innerWidth > 1600) {
            restrictionSign.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        } else {
            restrictionSign.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

    </script>
    </body>
    </html>