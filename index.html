<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Faraz Samie Portfolio</title>
    <link rel="icon" href="images/img1.png" type="image/png">
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <nav>
        <a href="#"> WelcomePage </a>
        <a href="#"> Contact </a>
    </nav>

    <div class="slider-content">
        <div class="slide-number">
            <div class="prefix">
                <div>1</div>
                <div>2</div>
                <div>3</div>
                <div>4</div>
                <div>5</div>
            </div>
            <div class="postfix"><span>/</span> 5</div>
        </div>
        <div class="slide-name">
            <div class="names">
                <div><a >Academic Achievements</a></div>
                <div><a >Experience & Skills</a></div>
                <div><a >Project Portfolio</a></div>
                <div><a >Research Publications</a></div>
                <div><a >Personal Profile</a></div>
            </div>
        </div>
        <div class="slide-link">
            <div class="link">
                <div><a href="academic-achievements.html">Learn More</a></div>
                <div><a href="experience-skills.html">Learn More</a></div>
                <div><a href="project-portfolio.html">Learn More</a></div>
                <div><a href="research-publications.html">Learn More</a></div>
                <div><a href="personal-profile.html">Learn More</a></div>
            </div>
        </div>
    </div>
    <div class="slider">
        <div class="slide" id="slide-1">
            <img src="./images/img6.jpg" alt="" />
        </div>
        <div class="slide">
            <img src="./images/img2.jpg" alt="" />
        </div>
        <div class="slide">
            <img src="./images/img3.jpg" alt="" />
        </div>
        <div class="slide">
            <img src="./images/img4.jpg" alt="" />
        </div>
        <div class="slide">
            <img src="./images/img5.jpg" alt="" />
        </div>
    </div>
    <div style="height:400vh"></div>
    







    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const slides = document.querySelectorAll(".slide");
            let currentSlideIndex = 0;
            let isAnimating = false;
            let currentTopValue = 0;
            const elements = [
                {selector: ".prefix", delay: 0},
                {selector: ".names", delay: 0.00015},
                {selector: ".link", delay: 0.00003},
            ];

// Function to show a specific slide
function showSlide(index) {
    if (index < 0 || index >= slides.length) return; // Prevent out-of-bounds
    isAnimating = true;
    slides.forEach((slide, i) => {
        slide.style.transform = `translateX(${(i - index) * 100}%)`;
    });
    setTimeout(() => {
        isAnimating = false;
    }, 500); // Adjust this to match the CSS transition duration
}

elements.forEach((elem) => {
    console.log(`Animating ${elem.selector} to y: ${currentTopValue}px`);
    gsap.to(document.querySelector(elem.selector), {
        y: `${currentTopValue}px`,
        duration: 1.75,
        ease: "power4.inOut",
    }, 0);
});



            slides.forEach((slide, idx) => {
                if (idx !== 0) {
                    const img = slide.querySelector("img");
                    gsap.set(img, {scale: 2, top: "4em"});
                }
            });

            function showSlide(index) {
                if (isAnimating) return;
                isAnimating = true;
                const slide = slides[index];
                const img = slide.querySelector("img");

                currentTopValue -= 30; // position text lands on (dont adjust)

                elements.forEach((elem) => {
                    gsap.to(document.querySelector(elem.selector), {
                        y: `${currentTopValue}px`,
                        duration: 1.75, // speed of text
                        ease: "power4.inOut",
                    });
                });

                gsap.to(img, {
                    scale: 1,
                    top: "0%",
                    duration: 1,
                    ease: "power3.inOut",
                });
                gsap.to(slide, {
                    clipPath: "polygon(0 0, 100% 0, 100% 100%, 0 100%)",
                    duration: 1,
                    ease: "power4.inOut",
                    onComplete: () => {
                        isAnimating = false;
                    },
                }, "<");
            }

            function hideSlide(index) {
                if (isAnimating) return;
                isAnimating = true;
                const slide = slides[index];
                const img = slide.querySelector("img");

                currentTopValue += 30;
                elements.forEach((elem) => {
                    gsap.to(document.querySelector(elem.selector), {
                        y: `${currentTopValue}px`,
                        duration: 1,
                        ease: "power4.inOut",
                    });
                });

                gsap.to(slide, {
                    clipPath: "polygon(0 100%, 100% 100%, 100% 100%, 0 100%)",
                    duration: 0.5,
                    ease: "power4.inOut",
                });

                gsap.to(img, {
                    scale: 2,
                    top: "4em",
                    duration: 0.5,
                    ease: "power3.inOut",
                });

                gsap.to(slide, {
                    clipPath: "polygon(0 100%, 100% 100%, 100% 100%, 0 100%)",
                    duration: 1,
                    ease: "power4.inOut",
                    onComplete: () => {
                        isAnimating = false;
                    },
                }, "<");
            }

            window.addEventListener("wheel", (e) => {
                 if (isAnimating) return;
                 if (e.deltaY > 0 && currentSlideIndex < slides.length - 1) {
            // Scrolling down logic 
                  showSlide(currentSlideIndex + 1);
                  currentSlideIndex++;
                 } else if (e.deltaY < 0 && currentSlideIndex > slides.length + 1) {
                    if (isAnimating) return; // Move this condition here
            // Scrolling up logic: Show previous slide
                 showSlide(currentSlideIndex - 1);
                 currentSlideIndex--;
        }
    });
 });
    </script>
</body>
</html>


